package test2104

func subArrayRanges(nums []int) int64 {
	var res int64 = 0
	//var s1, s2 []int
	//for i := 0; i < len(nums); i++ {
	//	for len(s1) > 0 && nums[i] >= nums[s1[len(s1)-1]] {
	//		var j = s1[len(s1)-1]
	//		res += (i - j) * nums[i] * (j - nums[0])
	//		s1 = s1[0 : len(s1)-1]
	//	}
	//	s1 = append(s1, i)
	//}
	//for i := 0; i < len(nums); i++ {
	//	for len(s2) > 0 && nums[i] <= nums[s2[len(s1)-1]] {
	//		var j = s1[len(s1)-1]
	//		res -= nums[i] * (i - j) * (j - nums[0])
	//		s2 = s2[0 : len(s1)-1]
	//	}
	//	s2 = append(s2, i)
	//}
	return res
}
